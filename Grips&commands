-- Updated Uncensorable Admin Script for 2020 Roblox (Revival-compatible, e.g., Caelus.lol)
-- All external requests removed (no HttpGet, no rbxassetid for UI or icons)
-- Audio IDs now use caelus.lol direct links (e.g., https://www.caelus.lol/catalog/13698/trip-lil-hawaii)
-- UI is now created manually (simple BillboardGui + TextLabel) instead of GetObjects
-- Removed all loadstring/HttpGet calls (/mass, /grip, /crazy, /hop)
-- Fixed bugs (PlayerAdded connect used wrong variable, etc.)
-- Kept all grips, boombox bypass, and other FE features that work in old Roblox

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Simple name tag UI creation (BillboardGui with TextLabel)
local function CreateNameTag()
    local bill = Instance.new("BillboardGui")
    bill.Adornee = nil
    bill.Size = UDim2.new(0, 200, 0, 50)
    bill.StudsOffset = Vector3.new(0, 3, 0)
    bill.AlwaysOnTop = true
    bill.Enabled = true
    
    local text = Instance.new("TextLabel")
    text.Name = "Nameplate"
    text.Parent = bill
    text.Size = UDim2.new(1, 0, 1, 0)
    text.BackgroundTransparency = 1
    text.TextScaled = true
    text.Font = Enum.Font.GothamBold
    text.TextStrokeTransparency = 0.5
    text.TextStrokeColor3 = Color3.new(0, 0, 0)
    
    return bill
end

-- Cool list (UserId, Title, Color mode: 1 = rainbow, 2 = pink, 0 = white)
local cool = {
    {79685992, "Kaid :3", 2},
    {326421573, "uncensorable", 1},
    {1572849739, "Nokia :3", 2},
    {932027369, "Chams", 1},
    {2709582338, "balla", 2},
    {2932943865, "FuckUncensorable!!!", 1}
}

local rainbowColor = Color3.fromHSV(0, 1, 1)

-- Rainbow coroutine
spawn(function()
    while wait() do
        rainbowColor = Color3.fromHSV(tick() % 5 / 5, 1, 1)
    end
end)

-- Apply tags to existing players
for _, plr in pairs(Players:GetPlayers()) do
    if plr.Character and plr.Character:FindFirstChild("Head") then
        for _, data in pairs(cool) do
            if plr.UserId == data[1] then
                local tag = CreateNameTag()
                tag.Nameplate.Text = data[2]
                if data[3] == 1 then
                    spawn(function()
                        while tag and tag.Parent do
                            tag.Nameplate.TextColor3 = rainbowColor
                            wait()
                        end
                    end)
                elseif data[3] == 2 then
                    tag.Nameplate.TextColor3 = Color3.fromRGB(241, 166, 245)
                else
                    tag.Nameplate.TextColor3 = Color3.new(1, 1, 1)
                end
                tag.Parent = plr.Character.Head
            end
        end
    end
end

-- Player added
Players.PlayerAdded:Connect(function(plr)
    plr.CharacterAdded:Wait()
    if plr.Character:FindFirstChild("Head") then
        for _, data in pairs(cool) do
            if plr.UserId == data[1] then
                local tag = CreateNameTag()
                tag.Nameplate.Text = data[2]
                if data[3] == 1 then
                    spawn(function()
                        while tag and tag.Parent do
                            tag.Nameplate.TextColor3 = rainbowColor
                            wait()
                        end
                    end)
                elseif data[3] == 2 then
                    tag.Nameplate.TextColor3 = Color3.fromRGB(241, 166, 245)
                else
                    tag.Nameplate.TextColor3 = Color3.new(1, 1, 1)
                end
                tag.Parent = plr.Character.Head
            end
        end
    end
end)

-- Notification (no icon, since no external assets)
wait(1.2)
game.StarterGui:SetCore("SendNotification", {
    Title = "the boss aka thc";
    Text = "@4ldn to help improving";
    Duration = 5;
})

print("\nmade by uncensorable#1994 (2020 revival version)")
print("All commands in /cmds or /help")

-- Chat commands
LocalPlayer.Chatted:Connect(function(msg)
    msg = msg:lower()
    local args = string.split(msg, " ")

    -- /id [catalog-number]  (e.g. /id 13698 for trip lil hawaii)
    if args[1] == "/id" and args[2] then
        local catalogId = args[2]
        local audioUrl = "https://www.caelus.lol/catalog/" .. catalogId .. "/audio"  -- Direct audio link format

        for _, tool in pairs(LocalPlayer.Backpack:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower() == "boombox" then
                tool.Parent = LocalPlayer.Character
            end
        end

        wait(0.1)

        local zeros = 199950
        for _, tool in pairs(LocalPlayer.Character:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower() == "boombox" then
                local remote = tool:FindFirstChildOfClass("RemoteEvent")
                if remote then
                    remote:FireServer("PlaySong", string.rep("0", zeros) .. audioUrl, 1, 0, 0)
                end
            end
        end
    end

    -- /bp [catalog-number]  (play in backpack after)
    if args[1] == "/bp" and args[2] then
        local catalogId = args[2]
        local audioUrl = "https://www.caelus.lol/catalog/" .. catalogId .. "/audio"

        for _, tool in pairs(LocalPlayer.Backpack:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower() == "boombox" then
                tool.Parent = LocalPlayer.Character
            end
        end

        local zeros = 199950
        for _, tool in pairs(LocalPlayer.Character:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower() == "boombox" then
                local remote = tool:FindFirstChildOfClass("RemoteEvent")
                if remote then
                    remote:FireServer("PlaySong", string.rep("0", zeros) .. audioUrl, 1, 0, 0)
                end
            end
        end

        wait(0.6)
        LocalPlayer.Character.Humanoid:UnequipTools()
        wait(0.6)

        for _, tool in pairs(LocalPlayer.Backpack:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:lower() == "boombox" and tool.Handle and tool.Handle:FindFirstChild("Sound") then
                tool.Handle.Sound.TimePosition = 0
                tool.Handle.Sound.Playing = true
            end
        end
    end

    -- /rj (rejoin)
    if args[1] == "/rj" then
        game:GetService("TeleportService"):Teleport(game.PlaceId, LocalPlayer)
    end

    -- /re (refresh character)
    if args[1] == "/re" then
        local char = LocalPlayer.Character
        if char then
            local pos = char.HumanoidRootPart.CFrame
            char.Humanoid.Name = "TempHumanoid"
            local newHum = char.TempHumanoid:Clone()
            newHum.Parent = char
            newHum.Name = "Humanoid"
            char.TempHumanoid:Destroy()
            game.Workspace.CurrentCamera.CameraSubject = char.Humanoid
            char.Animate.Disabled = true
            wait()
            char.Animate.Disabled = false

            local model = Instance.new("Model", workspace)
            model.Name = LocalPlayer.Name
            Instance.new("Part", model).Name = "Head"
            Instance.new("Part", model).Name = "Torso"
            Instance.new("Humanoid", model).Name = "Humanoid"
            LocalPlayer.Character = model

            wait(6)
            LocalPlayer.Character.HumanoidRootPart.CFrame = pos
        end
    end

    -- Grip commands (apply to all boomboxes in backpack)
    local function applyGrip(gripData)
        for _, tool in pairs(LocalPlayer.Backpack:GetChildren()) do
            if tool:IsA("Tool") and tool:FindFirstChild("Handle") and tool.Handle:FindFirstChild("Sound") then
                tool.GripForward = gripData.Forward
                tool.GripPos = gripData.Pos
                tool.GripRight = gripData.Right
                tool.GripUp = gripData.Up
                tool.Handle.Massless = gripData.Massless or false
                tool.Parent = LocalPlayer.Character
            end
        end
    end

    if msg == "/back1" then applyGrip({Forward = Vector3.new(0.055, -0.03, 0.998), Pos = Vector3.new(-1.459, 0.334, 2.455), Right = Vector3.new(-0.998, -0.027, 0.054), Up = Vector3.new(-0.025, 0.999, 0.032)}) end
    if msg == "/back2" then applyGrip({Forward = Vector3.new(-0.017, -0.01, 1), Pos = Vector3.new(-1.514, -0.4, 2.208), Right = Vector3.new(-0.862, -0.507, -0.019), Up = Vector3.new(-0.507, 0.862, 0)}) end
    if msg == "/hat" then applyGrip({Forward = Vector3.new(0.078, 0, -0.997), Pos = Vector3.new(1.626, -2.243, -1.286), Right = Vector3.new(0.997, 0.011, 0.078), Up = Vector3.new(-0.011, 1, -0.001)}) end
    if msg == "/hat2" then applyGrip({Forward = Vector3.new(-0.039, -0.999, 0.036), Pos = Vector3.new(1.53, -1.569, 1.934), Right = Vector3.new(0.999, -0.039, -0.007), Up = Vector3.new(-0.009, -0.036, -0.999)}) end
    if msg == "/high" then applyGrip({Forward = Vector3.new(-1, 0.025, -0.019), Pos = Vector3.new(-0.597, 1.078, 0.114), Right = Vector3.new(-0.019, -0.008, 1), Up = Vector3.new(-0.025, -1, -0.008)}) end
    if msg == "/p" then applyGrip({Forward = Vector3.new(-1, -0.025, 0.019), Pos = Vector3.new(-0.1, 1.424, -1.416), Right = Vector3.new(-0.019, 0.026, -0.999), Up = Vector3.new(-0.025, 0.999, 0.026)}) end
    if msg == "/glock" then applyGrip({Forward = Vector3.new(0.998, -0.06, -0.01), Pos = Vector3.new(0.922, 0.809, 0.289), Right = Vector3.new(0.018, 0.45, -0.893), Up = Vector3.new(-0.059, -0.891, -0.45)}) end
    if msg == "/bone" then applyGrip({Forward = Vector3.new(0.879, -0.476, -0.017), Pos = Vector3.new(0.861, 0.905, 1.539), Right = Vector3.new(0.005, -0.026, 1), Up = Vector3.new(0.476, 0.879, 0.02)}) end
    if msg == "/chain" then applyGrip({Forward = Vector3.new(0.995, 0.026, 0.096), Pos = Vector3.new(1.233, 1.382, 1.313), Right = Vector3.new(-0.054, -0.666, 0.744), Up = Vector3.new(-0.084, 0.746, 0.661)}) end
    if msg == "/normal" then applyGrip({Forward = Vector3.new(1, 0, 0), Pos = Vector3.new(1, -1.25, 0), Right = Vector3.new(0, 0, 1), Up = Vector3.new(0, 1, 0)}) end

    -- Other commands (btools, noclip, etc.) remain unchanged as they are local and safe
    if msg == "/btools" then
        for _, bin in pairs({"Clone", "GameTool", "Hammer", "Script", "Grab"}) do
            local h = Instance.new("HopperBin", LocalPlayer.Backpack)
            h.BinType = Enum.BinType[bin]
        end
    end

    if msg == "/noclip" then
        spawn(function()
            while wait() do
                if LocalPlayer.Character then
                    for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end
        end)
    end

    -- Print commands
    if msg == "/cmds" or msg == "/help" then
        print("--------------------------------------------------------")
        print("[GRIPS] /low /back1 /back2 /hat /hat2 /p /high /glock /bone /chain /normal /streets")
        print("[COMMANDS] /id [catalog] /bp [catalog] /rj /re /btools /noclip /cmds")
        print("Audio example: /id 13698  -> plays https://www.caelus.lol/catalog/13698/trip-lil-hawaii")
        print("--------------------------------------------------------")
        game.StarterGui:SetCore("SendNotification", {Title = "Commands"; Text = "Printed to console"; Duration = 5})
    end
end)
